<!DOCTYPE html><html lang="en"><head>    <meta charset="utf-8">    <meta name="description" content="VindThing, finds your things!">    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">    <title>VindThing - Home</title>    <link href="css/font-awesome.min.css" rel="stylesheet">    <link href="css/bootstrap.min.css" rel="stylesheet">    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico"></head>    <body>    <header>        <nav class="navbar navbar-expand-lg navbar-dark bg-primary">            <a class="navbar-brand" href="index.html"><i class="fa fa-search" aria-hidden="true"></i> VindThing</a>            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">                <span class="navbar-toggler-icon"></span>            </button>            <div class="collapse navbar-collapse" id="navbarSupportedContent">                <ul class="navbar-nav ml-auto">                    <li class="nav-item"><a class="nav-link" href="localhost:8080/api/test/user">How it works</a></li>                    <li class="nav-item"><a class="nav-link" href="login.html">Login</a></li>                </ul>            </div>        </nav>    </header>        <div class="container">            <h1 class="text-center mb-4">Login</h1>            <form name="form">                <div class="form-row">                    <p class="form-group col-md-5 text-md-right pr-4"><label for="user">Username</label></p>                    <div class="form-group col-md-7"><input class="form-control" type="text" name="user" id="user" placeholder="john.doe">                    <div id="userinfo"></div>                    </div>                    <p class="form-group col-md-5 text-md-right pr-4"><label for="password">Password</label></p>                    <div class="form-group col-md-7"><input class="form-control" type="password" name="password" id="password" placeholder="test1234">                    <div id="passwordinfo"></div>                    </div>                </div>                <div class="text-md-right"><button class="btn btn-primary right mb-4" type="button" onclick="sendFeedbackForm()">Login</button></div>                <div id="response"></div>                <div id="responsetext"></div>            </form>        </div>    <footer class="bg-primary mt-2 pt-2">        <div class="container-fluid hidden-sm-down">            <div class="row justify-content-md-center">            </div>        </div>    </footer>        <script src="js/jquery-3.2.1.min.js"></script>        <script src="js/popper.js"></script>        <script src="js/bootstrap.min.js"></script>        <script>        //Validates the formdata before sending		function validateForm() {			var valid=true; //Validation flag, if it stays true the data will be sent			var info; //Validation messages			    		//Checks if the username field is empty    		if(document.getElementById("user").value==""){    			info='<div class="alert alert-danger mb-0 pt-2 pb-2">Please enter your Username!</div>';        		document.getElementById("userinfo").innerHTML = info;        		valid = false; //set flag to abort sending    		} else {    			document.getElementById("userinfo").innerHTML = '';    		}            //Checks if the password field is empty            if(document.getElementById("password").value==""){                info='<div class="alert alert-danger mb-0 pt-2 pb-2">Please enter your Password!</div>';                document.getElementById("passwordinfo").innerHTML = info;                valid = false; //set flag to abort sending            } else {                document.getElementById("passwordinfo").innerHTML = '';            }    		return valid;		}				//Sends the data as JSON POST if the formdata is valid		function sendFeedbackForm() {			if(validateForm()){                var send = '{"username":"'+document.getElementById("user").value+'","password":"'+document.getElementById("password").value+'"}';                var xhttp = new XMLHttpRequest();                xhttp.onreadystatechange = function () {                    if (this.readyState == 4) {		            	if(this.status == 200 || this.status == 201) {                            var json = JSON.parse(this.responseText);                            document.getElementById("responsetext").innerHTML = json.accessToken;                            $window.sessionStorage.jwt = json.accessToken; //Save JWT Token		            		document.getElementById("response").innerHTML = '<div class="alert alert-success mb-3 pt-2 pb-2" id="response">Login successful!</div>';		            	} else if (this.status >= 400 && this.status <= 499){		            		document.getElementById("response").innerHTML = '<div class="alert alert-danger mb-3 pt-2 pb-2" id="response">Wrong user or password!</div>';		            	} else if (this.status >= 500 && this.status <= 599){		            		document.getElementById("response").innerHTML = '<div class="alert alert-danger mb-3 pt-2 pb-2" id="response">Server Error, please try again later</div>';		            	} else if (this.status == 0){		            		document.getElementById("response").innerHTML = '<div class="alert alert-danger mb-3 pt-2 pb-2" id="response">Unknown Error, please try again later</div>';            		}	            }                };                xhttp.open("POST", "http://localhost:8080/api/auth/signin", true);                xhttp.setRequestHeader("Content-type", "application/json");                xhttp.setRequestHeader('Authorization', auth);                xhttp.send(send);			}        }        </script>    </body></html>